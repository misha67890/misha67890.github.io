!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(t){return e[t]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=699)}({103:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t);var r=n(449),a=n(193),i=n(346),s=n(206),c=n(474),l="article_dark_mode",d=115,u={},f={},h=function(){function e(t,n,r){o(this,e),this._els={},this._article=t,this._isStandalone=!!n,this._videoOpened=0,this._audioOpened=0,this._postId=r,this.isStandalone()?this._init():e.prepare(t),this.isStandalone()||(window.onbeforeunload=function(){window.scrollTo(0,0)})}return e.prototype.openEditor=function(e,t){var n=this;return this.isStandalone()?void 0:(this.close(!0),setTimeout(function(){nav.change({z:"article_edit"+n._article.raw_id,from_rev:t?1:!1})}),cancelEvent(e))},e.prototype.isStandalone=function(){return this._isStandalone},e.prototype.setFaded=function(){Object(r.addClass)(this._els.layer,"article_layer__faded")},e.prototype.show=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t,n){var o=this;n&&(boxRefreshCoords(boxLoader),show(boxLoader),show(boxLayerWrap)),e.prepare(this._article,function(e){n&&(hide(boxLoader),hide(boxLayerWrap)),o._article=e.article,t&&t(),o._ownerId=e.article.owner_id,o._id=e.article.id,o._buildLayer(e.html),o._init(),e.article.title&&(o._prevTitle=document.title,lockDocumentTitle(!1),setDocumentTitle(replaceEntities(stripHTML(e.article.title))),lockDocumentTitle(!0))}),toggleFastChats(!1)}),e.prototype.isShown=function(){return!!this._els.layer},e.prototype.videoOpened=function(){this._videoOpened+=2},e.prototype.audioPlaylistOpened=function(){this._audioOpened+=2},e.prototype.back=function(){this.isStandalone()?location.href=this._article.owner_href||"feed":history.go(-1)},e.prototype.close=function(e){var t=this;if(deinitArticle(),window.onbeforeunload=!1,e)if(this.isStandalone())location.href=this._article.owner_href||"feed";else{var n=-1;window.cur&&cur.articleSequence&&(n=-cur.articleSequence-this._videoOpened-this._audioOpened),history.go(n),cur.articleSequence=0}else Object(r.re)(this._els.layer),removeClass(bodyNode,"article_body_layer"),this._prevTitle&&(lockDocumentTitle(!1),setDocumentTitle(this._prevTitle)),this._onScrollHandler.forEach(function(e){t._getScrollNode().removeEventListener("scroll",e)});toggleFastChats(!0)},e.prototype._getScrollNode=function(){return this._els.scrollNode},e.prototype._getScrollTop=function(){return this.isStandalone()?document.scrollingElement?document.scrollingElement.scrollTop:window.scrollNode.scrollTop:this._els.layer.scrollTop},e.prototype._getNodeOffset=function(e){return-e.getBoundingClientRect().top},e.prototype._setScrollTop=function(e){this.isStandalone()?document.scrollingElement?document.scrollingElement.scrollTop=e:window.scrollNode.scrollTop=e:this._els.layer.scrollTop=e},e.prototype._buildLayer=function(t){this._els.layer=se(t),document.body.appendChild(this._els.layer),Object(r.addClass)(bodyNode,"article_body_layer"),this._toggleDarkMode(!1,e.getDarkMode()),Object(r.setStyle)(this._els.layer,{opacity:1})},e.prototype._init=function(){var t=this,n=this._els.layer?this._els.layer:Object(r.geByClass1)("_article_layer"),o=Object(r.geByClass1)("article_layer__inner");this._els.layer=n,this._els.up=Object(r.geByClass1)("article_layer__up",n),this._els.darkBtn=Object(r.geByClass1)("article_layer__dark",n),this._els.closeBtn=Object(r.geByClass1)("article_layer__close",n),this._els.placeHolderCloseBtn=Object(r.geByClass1)("article_layer_placeholder__back_button",n),this._els.content=Object(r.ge)("article_view_"+this._article.raw_id,n),this._els.layerSubscribeBtn=Object(r.geByClass1)("_article_layer__subscribe_btn",n),this._els.statsButton=Object(r.geByClass1)("article_layer__stat_btn",n),this._els.stats=Object(r.geByClass1)("article_stat",n),this._els.darkBtn.addEventListener("click",this._toggleDarkMode.bind(this)),window.vk.id?this._els.closeBtn.addEventListener("click",this.close.bind(this,!0)):Object(r.re)(this._els.closeBtn),this._els.placeHolderCloseBtn&&this._els.placeHolderCloseBtn.addEventListener("click",this.close.bind(this,!0)),this._els.scrollNode=this.isStandalone()?window:n,this._els.layerSubscribeBtn&&this._els.layerSubscribeBtn.addEventListener("click",this._subscribe.bind(this,this._els.layerSubscribeBtn,JSON.parse(Object(r.domData)(this._els.layerSubscribeBtn,"data")))),this._onScrollHandler=[];var a=this._onScroll.bind(this);this._onScrollHandler.push(a),this._getScrollNode().addEventListener("scroll",a),this._els.statsButton&&this._els.statsButton.addEventListener("click",function(){Object(r.toggleClass)(t._els.stats,"article_stat_hidden")}),n.addEventListener("mousemove",function(e){Object(r.toggleClass)(n,"article_layer__hover_left",e.target==o&&e.pageX<d),Object(r.toggleClass)(n,"article_layer__hover_right",e.target==o&&e.pageX>window.innerWidth-d)}),n.addEventListener("click",function(){Object(r.hasClass)(n,"article_layer__hover_left")&&(Object(r.hasClass)(t._els.up,"article_layer__up--shown")?t._setScrollTop(0):t.back()),Object(r.hasClass)(n,"article_layer__hover_right")&&t.close(!0)}),Object(s.initArticle)(this._article,{scrollNode:this._getScrollNode(),getScrollTop:this._getScrollTop.bind(this),postId:this._postId}),this.isStandalone()&&(window.onpopstate=function(){document.location.reload()}),this.isStandalone()||this._toggleDarkMode(!1,e.getDarkMode()),this._getScrollNode().scrollTop=this._getSavedScroll(),setTimeout(function(){t._initFooter()}),this.moderActionsInit()},e.prototype._initFooter=function(){var e=this,t=150,n=Object(r.geByClass1)("article_layer__inner"),o=Object(r.geByClass1)("article_layer__footer"),a=n.offsetHeight,i=this._getNodeOffset(n);if(o){a>window.innerHeight&&Object(r.addClass)(o,"article_layer__footer--fix");var s=function(s){var c=e._getNodeOffset(n),l=c+window.innerHeight;return l>=a-t?void Object(r.addClass)(o,"article_layer__footer--end"):(removeClass(o,"article_layer__footer--end"),c>i?Object(r.addClass)(o,"article_layer__footer--hide"):removeClass(o,"article_layer__footer--hide"),void(i=c))};this._getScrollNode().addEventListener("scroll",s),Object(r.geByClass)("article_layer__footer_button_share").forEach(function(t){t.addEventListener("click",e._shareArticle.bind(e))}),Object(r.geByClass)("article_layer__footer_button_bookmark").forEach(function(t){t.addEventListener("click",e._faveArticle.bind(e,t))})}},e.prototype._shareArticle=function(){showBox("like.php",{act:"publish_box",object:"article"+this._article.owner_id+"_"+this._article.id+":"+this._article.access_hash},{stat:["page.js","page.css","wide_dd.js","wide_dd.css","sharebox.js"],onFail:function(e){return showDoneBox(e),!0}}),Object(c.mailruStatsPixel)("share",this._article.mailruStatsData)},e.prototype._faveArticle=function(){var e=!1;if(each(Object(r.geByClass)("article_layer__footer_button_bookmark"),function(t,n){e=Object(r.toggleClass)(n,"activated")}),i.ajax.post("al_articles.php",{act:"fave",url:this._article.url,add:Object(a.intval)(e),hash:this._article.fave_hash}),Object(c.mailruStatsPixel)(e?"fave":"unfave",this._article.mailruStatsData),e){var t=getLang("global_article_added_to_faves").replace("{link}",'<a href="fave@section=articles">').replace("{/link}","</a>");showDoneBox(t)}},e.prototype._onScroll=function(){var e=this._getScrollTop();Object(r.toggleClass)(this._els.up,"article_layer__up--shown",e>0),this._updateScrollSet()},e.prototype._getSavedScroll=function(){var e=ls.get("articles_scrolls")||{};return e[this._article.raw_id]||0},e.prototype._updateScrollSet=function(){var e=this._getScrollTop(),t=ls.get("articles_scrolls")||{};Object.keys(t).length>100&&(t={}),t[this._article.raw_id]=e,ls.set("articles_scrolls",t)},e.getDarkMode=function(){return!!Object(a.intval)(localStorage.getItem(l))},e.prototype._toggleDarkMode=function(e,t){var n=this,o=Object(r.toggleClass)(this._els.layer,"article_dark",t);this.isStandalone()&&Object(r.toggleClass)(document.body,"article_dark",o),t?Object(r.toggleClass)(this._els.layerSubscribeBtn,"black",o):(Object(r.addClass)(this._els.layerSubscribeBtn,"article_layer_btn_transition"),setTimeout(function(){removeClass(n._els.layerSubscribeBtn,"article_layer_btn_transition")},450),toggleClassDelayed(this._els.layerSubscribeBtn,"black",o)),void 0===t&&vk.id&&i.ajax.post("al_articles.php",{act:"set_dark_mode",is_on:Object(a.intval)(o)}),localStorage.setItem(l,Object(a.intval)(o))},e.clearPrepared=function(e){e=e.replace(/^\//,""),delete u[e]},e.prepare=function(e,t){t||(t=function(){});var n=e.url.replace(/^\//,"");if(Object(a.isObject)(u[n]))return t(u[n]);if(u[n]=u[n]||[],u[n].push(t),!(u[n].length>1)){var o=inArray(cur.module,["groups","profile","public"])?cur.oid:"";i.ajax.post("al_articles.php",{act:"view",url:n,layer:1,wall_owner_id:o},{onDone:function(e,t){var o=u[n];u[n]={html:e,article:t},o.forEach(function(e){return e(u[n])})}})}},e.prototype._subscribe=function(e,t){if(!buttonLocked(e)){var n=Object(r.hasClass)(e,"secondary"),o={showProgress:lockButton.pbind(e),hideProgress:unlockButton.pbind(e),onDone:function(){f[t.oid]=!n,Object(r.toggleClass)(e,"secondary"),t.confirm&&n&&hide(e)}};if(t.oid>0)i.ajax.post("al_friends.php",{act:n?"remove":"add",mid:t.oid,hash:t.hash},o);else{var a=i.ajax.post.pbind("al_groups.php",{act:n?"a_leave":"a_enter",gid:-t.oid,hash:t.hash},o);if(t.confirm&&n)var s=showFastBox(t.confirm.title,t.confirm.text,t.confirm.btn,function(){s.hide(),a()},getLang("global_cancel"));else a()}}},e.prototype.moderActionsInit=function(){var e=this,t=this._article.moder_actions_hash,n=Object(r.ge)("article_moder_rev_sel");n&&n.addEventListener("change",function(e){nav.change({rev:e.target.value}),location.reload()});var o=Object(r.ge)("article_moder__rev_restore");o&&o.addEventListener("click",function(){n.value&&i.ajax.post("al_articles.php",{act:"moder_restore_article_rev",hash:t,article_owner_id:e._article.owner_id,article_id:e._article.id,revision:Object(a.intval)(n.value)},{showProgress:lockButton.pbind(o),onDone:function(){nav.change({rev:!1}),location.reload()}})});var s=Object(r.ge)("article_moder__ban_btn");if(s){var c=Object(a.intval)(s.getAttribute("data-banned"))?0:1;s.addEventListener("click",function(){i.ajax.post("al_articles.php",{act:"moder_ban_article",hash:t,article_owner_id:e._article.owner_id,article_id:e._article.id,do_ban:Object(a.intval)(c)},{showProgress:lockButton.pbind(s),onDone:function(){location.reload()}})})}},e}();window.ArticleLayer=h},193:function(e,t,n){"use strict";function o(e){var t=PageID;return function(){t==PageID&&e.apply(this,arguments)}}function r(e,t){return setTimeout(o(e),t)}function a(e,t){return Math.random()*(t-e+1)+e}function i(e,t){return Math.floor(a(e,t))}function s(e){return"undefined"==typeof e}function c(e){return e&&"[object Function]"===Object.prototype.toString.call(e)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){return"string"==typeof e}function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function h(){return+new Date}function p(){return window.Image?new Image:ce("img")}function _(e){return(e||"").replace(/^\s+|\s+$/g,"")}function w(e){return e?e.replace(/<(?:.|\s)*?>/g,""):""}function g(e){return e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):""}function v(e){return e===!0?1:parseInt(e)||0}function m(e){return e===!0?1:parseFloat(e)||0}function y(e){return e=v(e),0>e?0:e}function b(e){return!isNaN(e)}function x(e){return e.replace(/&#(\d\d+);/g,function(e,t){return t=v(t),t>=32?String.fromCharCode(t):e}).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function j(e){return se("<textarea>"+(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+"</textarea>").value}function C(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function k(e){return j(e.replace(/\t/g,"\n"))}function S(e,t){if(u(e)||"undefined"==typeof e.length){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.call(e[n],n,e[n])===!1)break}else for(var o=0,r=e.length;r>o;o++){var a=e[o];if(t.call(a,o,a)===!1)break}return e}function T(e,t,n){for(var o=n||0,r=(e||[]).length;r>o;o++)if(e[o]==t)return o;return-1}function B(e,t){return-1!=T(t,e)}function O(e,t){var n=u(e)||"undefined"==typeof e.length?{}:[];for(var o in e)(!/webkit/i.test(_ua)||"layerX"!=o&&"layerY"!=o&&"webkitMovementX"!=o&&"webkitMovementY"!=o)&&(t&&"object"===R(e[o])&&"prototype"!==o&&null!==e[o]?n[o]=O(e[o]):n[o]=e[o]);return n}function E(e){var t,n,o={},r=1,a=arguments.length,i=arguments;for(t in e){for(n=!1,r=1;a>r;r++)i[r][t]&&i[r][t]==e[t]&&(n=!0);n||(o[t]=e[t])}return o}function L(){var e,t=arguments,n=t[0]||{},o=1,r=t.length,a=!1;for("boolean"==typeof n&&(a=n,n=t[1]||{},o=2),"object"===("undefined"==typeof n?"undefined":R(n))||c(n)||(n={});r>o;++o)if(null!=(e=t[o]))for(var i in e){var s=n[i],l=e[i];n!==l&&(a&&l&&"object"===("undefined"==typeof l?"undefined":R(l))&&!l.nodeType?n[i]=L(a,s||(null!=l.length?[]:{}),l):void 0!==l&&(n[i]=l))}return n}function q(e){window.templates=window.templates||{},L(window.templates,e)}function D(e,t){var n=window.templates=window.templates||{},o=n[e];return"function"==typeof o&&(o=o()),o&&t?rs(o,t):o||""}function P(e){if("object"!=("undefined"==typeof e?"undefined":R(e)))return!1;var t={},n=function(t){return geByTag(t,e)},o=function(n,o){if(o.name)if("text"!=o.type&&o.type)if(o.getAttribute("bool")){var r=val(o);if(!r||"0"===r)return;t[o.name]=1}else t[o.name]=browser.msie&&!o.value&&e[o.name]?e[o.name].value:o.value;else t[o.name]=val(o)};return S(n("input"),function(e,t){return"radio"!=t.type&&"checkbox"!=t.type||t.checked?o(e,t):void 0}),S(n("select"),o),S(n("textarea"),o),t}function N(e,t){for(var n,o=t?z:I,r=[];e&&(n=e.match(o));){e=e.substr(n.index+n[0].length);var a=0;n[4]||(a=7),r.push({url:n[2+a],query:n[5+a]||"",domain:n[4+a]})}return r}function A(){return window.devicePixelRatio>=2}function M(e){var t=0,n=0,o=e.ownerDocument||e.document,r=o.defaultView||o.parentWindow,a=r.getSelection();if(a.rangeCount>0){var i=r.getSelection().getRangeAt(0),s=i.cloneRange();s.selectNodeContents(e),s.setEnd(i.startContainer,i.startOffset),t=s.toString().length,s.setEnd(i.endContainer,i.endOffset),n=s.toString().length}return[t,n]}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.kLimit||1e3,o=t.mLimit||1e6;return e>=o&&!t.noCheck?(e=v(e/1e5),e=e>1e3?v(e/10):e/10,H(e,L(t,{noCheck:!0}),!0)+"M"):e>=n&&!t.noCheck?(e=v(e/100),e=e>100?v(e/10):e/10,H(e,L(t,{noCheck:!0}),!0)+"K"):langNumeric(e,"%s",!0).replace(/,/g,".")}n.r(t),n.d(t,"vkLocal",function(){return o}),n.d(t,"lTimeout",function(){return r}),n.d(t,"rand",function(){return a}),n.d(t,"irand",function(){return i}),n.d(t,"isUndefined",function(){return s}),n.d(t,"isFunction",function(){return c}),n.d(t,"isArray",function(){return l}),n.d(t,"isString",function(){return d}),n.d(t,"isObject",function(){return u}),n.d(t,"isEmpty",function(){return f}),n.d(t,"vkNow",function(){return h}),n.d(t,"vkImage",function(){return p}),n.d(t,"trim",function(){return _}),n.d(t,"stripHTML",function(){return w}),n.d(t,"escapeRE",function(){return g}),n.d(t,"intval",function(){return v}),n.d(t,"floatval",function(){return m}),n.d(t,"positive",function(){return y}),n.d(t,"isNumeric",function(){return b}),n.d(t,"winToUtf",function(){return x}),n.d(t,"replaceEntities",function(){return j}),n.d(t,"clean",function(){return C}),n.d(t,"unclean",function(){return k}),n.d(t,"each",function(){return S}),n.d(t,"indexOf",function(){return T}),n.d(t,"inArray",function(){return B}),n.d(t,"clone",function(){return O}),n.d(t,"arrayKeyDiff",function(){return E}),n.d(t,"extend",function(){return L}),n.d(t,"addTemplates",function(){return q}),n.d(t,"getTemplate",function(){return D}),n.d(t,"serializeForm",function(){return P}),n.d(t,"extractUrls",function(){return N}),n.d(t,"isRetina",function(){return A}),n.d(t,"getCaretCharacterOffsetWithin",function(){return M}),n.d(t,"formatCount",function(){return H}),n.d(t,"encodeHtml",function(){return U}),n.d(t,"decodeHtml",function(){return X});var F=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(c){r=!0,a=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.PageID=window.PageID||1;var I=/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,9}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i,z=/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,9}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i,W=function(){var e=null;return[function(t){return e||(e=se("<span> </span>")),e.innerText=t,e.innerHTML.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},function(t){return e||(e=se("<span> </span>")),e.innerHTML=t,e.innerText}]}(),V=F(W,2),U=V[0],X=V[1];window.isRetina=A,window.extractUrls=N,window.serializeForm=P,window.addTemplates=q,window.getTemplate=D,window.rand=a,window.irand=i,window.isUndefined=s,window.isFunction=c,window.isArray=l,window.isString=d,window.isObject=u,window.isEmpty=f,window.vkNow=h,window.vkImage=p,window.trim=_,window.stripHTML=w,window.escapeRE=g,window.intval=v,window.floatval=m,window.positive=y,window.isNumeric=b,window.winToUtf=x,window.replaceEntities=j,window.clean=C,window.unclean=k,window.each=S,window.indexOf=T,window.inArray=B,window.clone=O,window.arrayKeyDiff=E,window.extend=L,window.vkLocal=o,window.lTimeout=r,window.getCaretCharacterOffsetWithin=M,window.formatCount=H,window.encodeHtml=U,window.decodeHtml=X},206:function(e,t,n){"use strict";function o(e,t){b=t||{},C=e,window.cur&&(window.cur.article=e),b.moderDeletePhoto=C.moderDeletePhoto,m=ge("article_view_"+e.owner_id+"_"+e.id),y=b.scrollNode||window,x=b.getScrollTop||function(){var e=document.scrollingElement||window.scrollNode||document.body;return e.scrollTop},v=gpeByClass("article_body",m)||gpeByClass("_article_layer",m),s(),i(),p(),setTimeout(function(){y.click&&y.click(),y.focus()},10),window.onBodyResize=window.onBodyResize||function(){},window.cur&&cur.destroy.push(function(){a()}),!b.mobile&&window.AudioPlaylist&&C.audiosList&&C.audiosList.length>0&&(cur.articlePlaylist=new AudioPlaylist(AudioPlaylist.TYPE_TEMP,C.owner_id,"article_"+C.id),cur.articlePlaylist.mergeWith({list:C.audiosList}))}function r(){b.notFull=!1,i(),p(),c()}function a(){k&&(y.removeEventListener("scroll",k),k=!1),S&&(y.removeEventListener("scroll",S),S=!1),clearTimeout(T)}function i(){each(geByClass("_article_unmute_button"),function(e,t){t.addEventListener("click",function(){var e=t.parentNode,n=geByTag1("video",e);n.muted=!n.muted,toggleClass(e,"article_object_unmuted",!n.muted)})}),each(geByTag("figure",m),function(e,t){var n=parseInt(domData(t,"type"));n==_.ParagraphType.ObjectPhoto&&Object(w.initPhotoCarousel)(t,b),b.isWebView||n!=_.ParagraphType.ObjectPhoto||d(t)})}function s(){y.addEventListener("scroll",k=function(){c()},{passive:!0}),c()}function c(){var e={101:-2e3},t=x(),n=window.innerHeight,o=getXY(m)[1];each(geByTag("figure",m),function(r,a){var i=intval(domData(a,"done"));if(!i){var s=getH(a),c=getXY(a)[1]-o,d=intval(domData(a,"type")),u=void 0!==e[d]?e[d]:60,f=t+n-u>=c&&c+s-u>=t;i=l(f,d,a),i&&domData(a,"done",1)}})}function l(e,t,n){var o=!1;switch(t){case _.ParagraphType.ObjectPhoto:if(e){var r=geByTag1("img",n),a=domQuery1("[data-sizes]",n),i=JSON.parse(domData(a,"sizes"));i.forEach(function(e,t){if(!(t>3)){var n=Object(_.getAppropriateImage)(i[t],getW(r)||b.width,!0),o=g(n,1),a=o[0];Object(_.preloadImage)(a,function(){0==t&&(removeClass(r,"article_object_photo__image_blur"),r.src=a)})}}),o=!0}break;case _.ParagraphType.ObjectGIF:if(!b.mobile){var s=geByTag1("video",n);s?e?s.hasAttribute("autoplay")&&s.play():s.pause():o=!0}}return o}function d(e){if(!b.noImageOpen){var t=geByTag1("img",e),n=domQuery1("[data-sizes]",e),o=JSON.parse(domData(n,"sizes")),r=Object(_.getAppropriateImage)(o[0],window.innerWidth,!0),a=g(r,3),i=a[0],s=a[1],c=a[2],l=h({width:s,height:c},{width:window.innerWidth,height:window.innerHeight}),d=getW(e)<l.width&&getH(e)<l.height;if(i&&d){var p=geByClass1("article_photo_carousel__controls",e)||t;addClass(p,"article_image_full_viewable");var w=data(e,"changePhotoFunction");p.addEventListener("click",function(){var t=intval(domData(e,"photo-carousel-index"));addClass(v,"article_no_scroll");var n=geByTag1("figcaption",e),r=se('<div class="article_full_view"><img class="article_full_view__image"></div>');n&&n.innerHTML&&r.appendChild(se('<div class="article_full_view__caption"><div class="article_full_view__caption_inner">'+n.innerHTML+"</div></div>")),o.length>1&&(toggleClass(E,"article_full_view__carousel",o.length>1),B=se('<div class="article_full_view__right"></div>'),r.appendChild(B),O=se('<div class="article_full_view__left"></div>'),r.appendChild(O),B.addEventListener("click",function(e){return t=Math.min(o.length-1,Math.max(0,t+1)),u(a,o,t),w&&w(1),cancelEvent(e)}),O.addEventListener("click",function(e){return t=Math.min(o.length-1,Math.max(0,t-1)),u(a,o,t),w&&w(-1),cancelEvent(e)})),E=se('<div class="article_full_view__counter"><div class="article_full_view__counter_text"></div><div class="article_full_view__close"></div></div>'),r.appendChild(E),o.length>1&&toggleClass(E,"article_full_view__carousel",o.length>1),m.appendChild(r),r.addEventListener("click",function(e){domClosest("article_full_view__caption_inner",e.target)||f()}),r.addEventListener("mousewheel",f),j=r;var a=geByTag1("img",r);u(a,o,t)})}}}function u(e,t,n){if(toggleClass(O,"article_full_view__nav_hidden",0==n),toggleClass(B,"article_full_view__nav_hidden",n==t.length-1),t.length>1){var o=geByClass1("article_full_view__counter_text",E);o.innerHTML=getLang("global_article_carousel_counter").replace("{counter}",n+1).replace("{total}",t.length)}L=n;var r=Object(_.getAppropriateImage)(t[n],window.innerWidth,!0),a=g(r,3),i=a[0],s=a[1],c=a[2],l=h({width:s,height:c},{width:window.innerWidth,height:window.innerHeight}),d=!1,u=Object(_.preloadImage)(i,function(){if(L===n){d=!0,l.width&&isNumeric(l.width)?setStyle(e,{width:l.width,height:l.height}):setStyle(e,{width:null,height:null}),e.src=i,removeClass(e,"article_full_view__image_blurred");for(var o=n;o<Math.min(n+3,t.length);o++){var r=Object(_.getAppropriateImage)(t[o],window.innerWidth,!0),a=g(r,1),s=a[0];Object(_.preloadImage)(s)}}});if(u)removeClass(e,"article_full_view__image_blurred");else{var f=Object(_.getAppropriateImage)(t[n],200,!0),p=g(f,1),w=p[0];Object(_.preloadImage)(w,function(){L===n&&(d||(setStyle(e,{width:l.width,height:l.height}),e.src=w))}),addClass(e,"article_full_view__image_blurred")}}function f(){return j?(re(j),v&&removeClass(v,"article_no_scroll"),j=!1,!0):!1}function h(e,t){var n=e.width/e.height,o=t.width/t.height,r={};return n>o?(r.width=Math.min(t.width,e.width),r.height=e.height*(r.width/e.width)):(r.height=Math.min(t.height,e.height),r.width=r.height*n),r}function p(){function e(){return Math.round((Date.now()-s)/1e3)}function t(t){if(!(c>=t)){for(var o=c+1;t>=o;o++)d.push(o);if(c=t,clearTimeout(l),l=setTimeout(n,100),3==t&&C.ttr){var r=C.ttr-e();r>0&&(T=setTimeout(function(){document.hidden||(c=4,d=[c],n())},1e3*r))}}}function n(){d.length&&(ajax.post(window.isMVK?"article.php":"al_articles.php",{act:"stats",scroll:d.join(","),spent:e(),hash:C.access_hash,article_owner_id:C.owner_id,article_id:C.id,is_web_view:b.isWebView?1:0,post_id:b.postId,ref:window.cur?window.cur.module:""}),d.forEach(function(e){Object(_.mailruStatsPixel)("scroll_"+e,C.mailruStatsData)}),d=[])}function o(){var e=x();e>0&&t(1);for(var n=1;4>n;n++)e+3*i/4>a+r*n/3&&t(n+1);e+i>r-20&&t(4)}if(!b.notFull){var r=getH(m),a=getXY(m)[1]-scrollGetY(),i=window.innerHeight,s=Date.now(),c=-1,l=void 0,d=[];t(0),y.addEventListener("scroll",S=o,{passive:!0}),o()}}n.r(t),n.d(t,"initArticle",function(){return o}),n.d(t,"updateArticle",function(){return r}),n.d(t,"deinitArticle",function(){return a});var _=n(474),w=n(91),g=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(c){r=!0,a=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=void 0,m=void 0,y=void 0,b=void 0,x=void 0,j=void 0,C=void 0,k=void 0,S=void 0,T=void 0,B=void 0,O=void 0,E=void 0,L=void 0;({php:new RegExp("\\b(array|as|break|case|class|const|continue|default|do|else|elseif|for|foreach|function|global|if|return|static|switch|while|try|catch|throw)\\b","g"),js:new RegExp("\\b(break|case|class|const|continue|default|do|else|for|function|if|return|static|switch|while|try|catch|throw|let)\\b","g")}),window.initArticle=o,window.deinitArticle=a,window.updateArticle=r,window.articleCloseImageFullSize=f},346:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";function ajx2q(e,t){var n=[],o=function(e){if(window._decodeEr&&_decodeEr[e])return e;try{return encodeURIComponent(e)}catch(t){return""}};for(var r in e)if(null!=e[r]&&!isFunction(e[r]))if(isArray(e[r]))for(var a=0,i=0,s=e[r].length;s>a;++a)null==e[r][a]||isFunction(e[r][a])||(n.push(o(r)+"["+i+"]="+o(e[r][a])),++i);else n.push(o(r)+"="+o(e[r]));return t||n.sort(),n.join("&")}function q2ajx(e){if(!e)return{};var t={},n=function(e){try{return decodeURIComponent(e)}catch(t){return window._decodeEr=window._decodeEr||{},_decodeEr[e]=1,e}};return e=e.split("&"),each(e,function(e,o){var r=o.split("=");if(r[0]){var a=n(r[1]+"");if("[]"==r[0].substr(r.length-2)){var i=n(r[0].substr(0,r.length-2));t[i]||(t[i]=[]),t[i].push(a)}else t[n(r[0])]=a}}),t}function requestBox(e,t,n){return e.setOptions({onDestroy:n}),e.onDone=function(){t&&t.apply(null,arguments)},e}function activateMobileBox(e){return requestBox(showBox("activation.php",{act:"activate_mobile_box",hash:e.hash}),function(){vk.nophone=0,e.onDone()},e.onFail)}function validateMobileBox(e){return requestBox(showBox("activation.php",{act:"validate_box",captcha:e.acceptCaptcha?1:"",skip_push:e.skip_push?e.skip_push:"",from:e.from||"",hash:e.hash,ahash:e.ahash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}function validatePassBox(e){return requestBox(showBox("activation.php",{act:"pass_validate_box",hash:e.hash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}function photoCaptchaBox(e){return requestBox(showBox("pcaptcha.php",{act:"box"},{stat:["pcaptcha.css","pcaptcha.js"]}),e.onDone,e.onFail)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ajx2q",function(){return ajx2q}),__webpack_require__.d(__webpack_exports__,"q2ajx",function(){return q2ajx}),__webpack_require__.d(__webpack_exports__,"requestBox",function(){return requestBox}),__webpack_require__.d(__webpack_exports__,"activateMobileBox",function(){return activateMobileBox}),__webpack_require__.d(__webpack_exports__,"validateMobileBox",function(){return validateMobileBox}),__webpack_require__.d(__webpack_exports__,"validatePassBox",function(){return validatePassBox}),__webpack_require__.d(__webpack_exports__,"photoCaptchaBox",function(){return photoCaptchaBox}),__webpack_require__.d(__webpack_exports__,"ajax",function(){return ajax}),window.ajaxCache={},window.globalAjaxCache={},window.iframeTO=0;var ajax={_init:function(){var e=!1;try{if(e=new XMLHttpRequest)return void(ajax._req=function(){return new XMLHttpRequest})}catch(t){}ajax._req||browser.search_bot||location.replace("badbrowser.php")},_getreq:function(){return ajax._req||ajax._init(),ajax._req()},_frameover:function(e,t){if(window.iframeTransport){var n=iframeTransport.parentNode;n.innerHTML="",utilsNode.removeChild(n),iframeTransport=!1,(e||t)&&ajax.framegot(!1,!1,e,t),ajax.framegot(!1),cur.onFrameBlocksDone&&cur.onFrameBlocksDone(),ajax.tOver=(new Date).getTime()}},_receive:function _receive(cont,html,js,bench,params){var c=cont&&ge(cont);if(c&&html&&(c.firstChild?c.appendChild(cf(html)):val(c,html)),js){var scr="(function(){"+js+";})()";if(__debugMode)eval(scr);else try{eval(scr)}catch(e){topError(e,{dt:15,type:8,url:ajax._frameurl,js:js,answer:Array.prototype.slice.call(arguments).join("<!>")})}bench&&(ajax.tModule=cur.module)}params&&"leftads"in params&&window.__adsSet&&__adsSet(params.leftads,params.ads_section||"",params.ads_can_show,params.ads_showed),ajax._framenext()},framedata:!1,_framenext:function(){if((ajax.framedata||{}).length){var e=ajax.framedata.shift();e===!0?ajax._framenext():e===!1?(ajax.framedata=!1,cur.onFrameBlocksDone&&cur.onFrameBlocksDone()):iframeTO=lTimeout(ajax._receive.pbind(e[0],e[1],e[2],!0,e[3]),0)}},framegot:function(e,t,n,o){ajax.framedata&&(ajax.framedata.push(void 0===t&&void 0===n&&void 0===o?e:[e,t,n,o]),1==ajax.framedata.length&&ajax._framenext())},framepost:function(e,t,n,o){clearTimeout(iframeTO),window.iframeTransport&&ajax._frameover(),window.iframeTransport=utilsNode.appendChild(ce("div",{innerHTML:"<iframe></iframe>"})).firstChild,ajax._framedone=n,ajax.framedata=[!0],e+="?"+("string"!=typeof t?ajx2q(t,o&&o.noSort):t),e+=("?"!=e.charAt(e.length-1)?"&":"")+"_rndVer="+irand(0,99999),ajax._frameurl=iframeTransport.src=e},plainpost:function(e,t,n,o,r,a,i,s){var c=ajax._getreq(),l="string"!=typeof t?ajx2q(t,i&&i.noSort):t;c.onreadystatechange=function(){4==c.readyState&&(c.status>=200&&c.status<300?n&&n(c.responseText,c):o&&o(c.responseText,c))};try{c.open("POST",e,!0)}catch(d){return!1}return a&&each(a,function(e,t){c[e]=t}),r||(c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s||c.setRequestHeader("X-Requested-With","XMLHttpRequest")),c.send(l),c},post:function(e,t,n){"/"!=e.substr(0,1)&&"http"!=e.substr(0,4)&&(e="/"+e);var o=extend({_captcha:!1,_box:!1},n||{}),r=extend({al:o.frame?-1:1},t),a=vkNow(),i=vk.spentLastSendTS?Math.round((a-vk.spentLastSendTS)/1e3):0;if(vk.sampleUser>=0&&window.cur&&cur.module&&i>=1&&(window.curNotifier&&curNotifier.idle_manager&&!curNotifier.idle_manager.is_idle&&(r=extend({
_smt:cur.module+":"+i},r)),vk.spentLastSendTS=a),o.progress&&(o.showProgress||(o.showProgress=function(){var e=ge(o.progress);hasClass(e,"pr")&&setStyle(e,"opacity",1),show(e)}),o.hideProgress||(o.hideProgress=function(){var e=ge(o.progress);hasClass(e,"pr")&&setStyle(e,"opacity",0),hide(e)})),o.loader){var s=isVisible(boxLayerWrap);o.showProgress=function(){boxRefreshCoords(boxLoader),show(boxLoader),s||show(boxLayerWrap)},o.hideProgress=function(){hide(boxLoader),s||hide(boxLayerWrap)}}return ajax._post(e,r,o)},preload:function(e,t,n){"/"!=e.substr(0,1)&&(e="/"+e),ajaxCache[e+"#"+ajx2q(t)]=n},invalidate:function(e,t){void 0===e?ajaxCache={}:delete ajaxCache[ajax._getCacheKey(e,t)]},_getCacheKey:function(e,t,n){var o=clone(t);return delete o.al,delete o.al_ad,delete o.ads_section,delete o.ads_showed,delete o.captcha_sid,delete o.captcha_key,delete o._smt,delete o._preload,e+"#"+ajx2q(o,n&&n.noSort)},_debugLog:function(e,t){window.debuglogGot&&debuglogGot(t,e)},_parseRes:function(e,t){window._updateDebug=!1;for(var n=e.length-1;n>=0;--n){var o=e[n];if("<!"==o.substr(0,2)){var r=o.indexOf(">"),a=o.substr(2,r-2);switch(o=o.substr(r+1),a){case"json":e[n]=parseJSON(o);break;case"int":e[n]=intval(o);break;case"float":e[n]=floatval(o);break;case"bool":e[n]=intval(o)?!0:!1;break;case"null":e[n]=null;break;case"pageview_candidate":e.pop();break;case"debug":ajax._debugLog(o,t),e.pop()}}}},_post:function _post(url,q,o){!q.captcha_sid&&o.showProgress&&o.showProgress();var cacheKey=!1;window.__adsGetAjaxParams&&extend(q,__adsGetAjaxParams(q,o)),o.cache&&(cacheKey=ajax._getCacheKey(url,q,o));var hideBoxes=function(){for(var e=0,t=arguments.length;t>e;++e){var n=arguments[e];n&&n.isVisible()&&(n.setOptions({onHide:!1,onDestroy:!1}),n.hide())}return!1},fail=function(e,t){return o.hideProgress&&o.hideProgress(),o._suggest&&cleanElems(o._suggest),o._suggest=o._captcha=o._box=hideBoxes(o._captcha,o._box),-1!=e.indexOf("The page is temporarily unavailable")&&__dev&&inArray(vk.id,[100])?(ajax._post(url,q,o),!1):void(o.onFail&&o.onFail(e)===!0||topError(e,{dt:5,type:3,status:t.status,url:url,query:q&&ajx2q(q,o.noSort)}))};if(o.local&&(fail=vkLocal(fail)),o.stat){var statAct=!1;stManager.add(o.stat,function(){statAct&&statAct(),o.stat=!1})}var _processResponse=function processResponse(code,answer){if(o.cache){var answ=ajaxCache[cacheKey];answ&&answ._loading&&(setTimeout(function(){for(var e in answ._callbacks)answ._callbacks[e](code,answer)},0),delete ajaxCache[cacheKey])}if(o.stat)return o.stat=!1,statAct=_processResponse.pbind(code,answer),!1;switch(o.cache&&!o.forceGlobalCache&&(code||(ajaxCache[cacheKey]=answer)),o.hideProgress&&o.hideProgress(),2!=code&&(o._captcha&&(o._suggest&&cleanElems(o._suggest),o._suggest=o._captcha=hideBoxes(o._captcha)),o._box=hideBoxes(o._box)),code){case 1:showFastBox({width:520,title:answer[0],onDestroy:o.onFail},answer[1]);break;case 2:var addText="";if(2===intval(answer[1])){var resend=function(e){var t=extend(q,{recaptcha:e}),n=o.cache?extend(o,{cache:-1}):o;ajax._post(url,t,n)};o._captcha=showReCaptchaBox(answer[0],answer[2],o._captcha,{onSubmit:resend,addText:addText,onDestroy:function(){o.onFail&&o.onFail()}})}else{var resend=function(e,t){var n=extend(q,{captcha_sid:e,captcha_key:t}),r=o.cache?extend(o,{cache:-1}):o;ajax._post(url,n,r)};o._captcha=showCaptchaBox(answer[0],intval(answer[1]),o._captcha,{onSubmit:resend,addText:addText,onDestroy:function(){o.onFail&&o.onFail()}})}o._suggest=geByClass1("phone_validation_link",o._captcha.bodyNode),o._suggest&&addEvent(o._suggest,"click",function(){o._box=validateMobileBox({onDone:o._captcha.submit})});break;case 11:case 12:var no=o.cache?extend(o,{cache:-1}):o;o._box=validateMobileBox({acceptCaptcha:11==code,onDone:function(e,t){vk.nophone=0,e&&(o._captcha=curBox()),ajax._post(url,e?extend(q,{captcha_sid:e,captcha_key:t}):q,no)},onFail:o.onFail,hash:answer[0],ahash:answer[1]});break;case 14:var no=o.cache?extend(o,{cache:-1}):o;o._box=photoCaptchaBox({onDone:ajax._post.pbind(url,q,no),onFail:o.onFail});break;case 15:var no=o.cache?extend(o,{cache:-1}):o;o._box=validatePassBox({onDone:ajax._post.pbind(url,q,no),onFail:o.onFail,hash:answer[0]});break;case 3:var no=o.cache?extend(o,{cache:-1}):o;window.onReLoginDone=ajax._post.pbind(url,q,no),window.onReLoginFailed=function(e,t){t?nav.go(t):-1===e?location.href=location.href.replace(/^http:/,"https:"):e?nav.go("/"):window.onReLoginDone()},utilsNode.appendChild(ce("iframe",{src:vk.loginscheme+"://login.vk.com/?"+ajx2q({role:"al_frame",_origin:locProtocol+"//"+locHost,ip_h:answer[0]||vk.ip_h,to:answer[1]||""})}));break;case 4:intval(answer[1])?nav.go(answer[0],!1,{nocur:"2"===answer[1],noback:answer[1]===!0?!0:!1,showProgress:o.showProgress,hideProgress:o.hideProgress}):(hab.stop(),location.href=answer[0]);break;case 5:nav.reload({force:intval(answer[0]),from:1,url:url,query:q&&ajx2q(q)});break;case 6:var no=o.cache?extend(o,{cache:-1}):o;o._box=activateMobileBox({onDone:ajax._post.pbind(url,q,no),onFail:o.onFail,hash:answer[0]});break;case 7:o.onFail&&o.onFail(),topMsg(answer[0],10);break;case 8:if(o.onFail&&o.onFail(answer[0]))return;topError(answer[0]+(answer[2]?" #"+answer[2]:""),{dt:answer[1]?0:10,type:4,url:url,query:q&&ajx2q(q)});break;case 9:if((o.fromBox||o.forceDone)&&(o.onDone&&o.onDone.apply(window,answer),o.fromBox))break;o._box=showFastBox({title:trim(answer[0])},answer[1]);var no=extend(clone(o),{showProgress:o._box.showProgress,hideProgress:o._box.hideProgress});o.cache&&(no.cache=-1),o._box=requestBox(o._box,function(e){isVisible(o._box.progress)||(e||(e={_votes_ok:1}),ajax._post(url,extend(q,e),no))},o.onFail),o._box.evalBox(answer[2]);break;case 10:o._box=showFastBox({title:answer[0]||getLang("global_charged_zone_title"),onHide:o.onFail},answer[1],getLang("global_charged_zone_continue"),function(){var e=extend(q,{charged_confirm:answer[3]});ajax._post(url,e,o)},getLang("global_cancel"));break;case 13:eval("(function(){"+answer[0]+";})()");break;default:if(-1==code||-2==code||-3==code){var adsShowed=answer.pop(),adsCanShow=answer.pop(),adsHtml=answer.pop(),adsProps;-3==code&&(adsProps=answer.pop()),window.__adsSet&&__adsSet(adsHtml,null,adsCanShow,adsShowed,null,adsProps)}o.onDone&&o.onDone.apply(window,answer)}window._updateDebug&&_updateDebug(),window.LazyLoad&&LazyLoad.scanDelayed()};o.local&&(_processResponse=vkLocal(_processResponse));var done=function(e,t){o.bench&&(ajax.tDone=(new Date).getTime()),e=e.replace(/^<!--/,"").replace(/-<>-(!?)>/g,"--$1>"),trim(e).length||(t=[8,getLang("global_unknown_error")],e=stVersions.nav+"<!><!>"+vk.lang+"<!>"+stVersions.lang+"<!>8<!>"+t[1]);var n=e.split("<!>"),r=clone(n);each(r,function(e,t){r[e]=t.substr(0,100)}),ajax.lastResp=r.join("<!>");var a=intval(n.shift());if(!a)return fail("<pre>"+e+"</pre>",{status:-1});if(vk.version&&vk.version!=a)return void(a&&n.length>4?nav.reload({force:!0,from:2,url:url,query:q&&ajx2q(q)}):nav.strLoc?location.replace(locBase):topError("Server error.",{type:100}));vk.version=!1;var i=n.shift(),s=intval(n.shift()),c=intval(n.shift());o.frame&&(n=t);var l=intval(n.shift());if(vk.lang!=s&&o.canReload)return void nav.reload({force:!0,from:3,url:url,query:q&&ajx2q(q)});var d=function(){var e=["common.css"];if(i){i=i.split(",");for(var t=0,r=i.length;r>t;++t)e.push(i[t])}if(stVersions.lang<c){stVersions.lang=c;for(var t in StaticFiles)/^lang\d/i.test(t)&&e.push(t)}if(!o.frame)try{ajax._parseRes(n,o._reqid)}catch(a){topError("<b>JSON Error:</b> "+a.message,{type:5,answer:n.join("<!>"),url:url,query:q&&ajx2q(q)})}stManager.add(e,_processResponse.pbind(l,n))};if(window.stVersions){if(a==stVersions.nav)return d();headNode.appendChild(ce("script",{type:"text/javascript",src:"js/loader_nav"+a+"_"+vk.lang+".js"})),setTimeout(function u(){return a==stVersions.nav?d():void setTimeout(u,100)},0)}};if(o.local&&(done=vkLocal(done)),o.cache>0||o.forceGlobalCache){var answer=ajaxCache[cacheKey];if(answer&&answer._loading)return void answer._callbacks.push(_processResponse);if(answer&&!o.forceGlobalCache)return _processResponse(0,answer),void(3===o.cache&&delete ajaxCache[cacheKey]);if(answer=globalAjaxCache[cacheKey])return-1==answer||isFunction(answer)?globalAjaxCache[cacheKey]=o.onDone:o.onDone.apply(window,answer),void(o.hideProgress&&o.hideProgress())}ajaxCache[cacheKey]={_loading:1,_callbacks:[]},window.debuglogSent?(o._reqid=debuglogSent(url+(q?": "+ajx2q(q,o.noSort).replace(/&/g,"&amp;"):"")),o.frame&&(window._lfrid=o._reqid)):o._reqid=0;var xhrOptions={};return o.timeout&&(xhrOptions.timeout=o.timeout),o.frame?ajax.framepost(url,q,done,o):ajax.plainpost(url,q,done,fail,!1,xhrOptions,o)},tGetParam:function(){if(ajax.tStart&&ajax.tModule){var e=ajax.tDone-ajax.tStart,t=ajax.tProcess-ajax.tDone,n=ajax.tRender-ajax.tProcess,o=ajax.tOver-ajax.tStart,r=[e,t,n,o,ajax.tModule];for(var a in r){if(r[a]<0)return!1;if(!r[a]&&0!==r[a])return!1}return ajax.tStart=!1,r.join(",")}}};window.ajax=ajax,window.ajx2q=ajx2q,window.q2ajx=q2ajx,window.requestBox=requestBox,window.activateMobileBox=activateMobileBox,window.validateMobileBox=validateMobileBox,window.validatePassBox=validatePassBox,window.photoCaptchaBox=photoCaptchaBox},449:function(e,t,n){"use strict";function o(e){return"string"==typeof e||"number"==typeof e?document.getElementById(e):e}function r(e,t){return t=o(t)||document,t.getElementsByTagName(e)}function a(e,t){return t=o(t)||document,t.querySelector&&t.querySelector(e)||r(e,t)[0]}function i(e,t,n){t=o(t)||document,n=n||"*";var a=[];if(t.querySelectorAll&&"*"!=n)return t.querySelectorAll(n+"."+e);if(t.getElementsByClassName){var i=t.getElementsByClassName(e);if("*"!=n){n=n.toUpperCase();for(var s=0,c=i.length;c>s;++s)i[s].tagName.toUpperCase()==n&&a.push(i[s])}else a=Array.prototype.slice.call(i);return a}for(var l=r(n,t),d=new RegExp("(^|\\s)"+e+"(\\s|$)"),s=0,c=l.length;c>s;++s)d.test(l[s].className)&&a.push(l[s]);return a}function s(e,t,n){return t=o(t)||document,n=n||"*",t.querySelector&&t.querySelector(n+"."+e)||i(e,t,n)[0]}function c(e,t,n){if(t=o(t),!t)return null;for(;n!==t&&(t=t.parentNode);)if(ee(t,e))return t;return null}function l(e,t){return(t||document).querySelectorAll(e)}function d(e,t){return(t||document).querySelector(e)}function u(e,t){return ee(t,e)?t:c(e,t)}function f(e,t){return e=e.toUpperCase(),t.nodeType==Node.ELEMENT_NODE&&t.tagName.toUpperCase()==e?t:h(e,t)}function h(e,t){if(t=o(t),!t)return null;for(e=e.toUpperCase();t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()==e)return t;return null}function p(e,t,n){var o=document.createElement(e);return t&&extend(o,t),n&&le(o,n),o}function _(e){return e=o(e),e&&e.parentNode&&e.parentNode.removeChild(e),e}function w(e){return C(p("div",{innerHTML:e}))}function g(e){return T(p("div",{innerHTML:e}))}function v(e,t){return each(t,function(t,n){e=e.replace(new RegExp("%"+t+"%","g"),("undefined"==typeof n?"":n).toString().replace(/\$/g,"&#036;"))}),e}function m(e){return"https:"!=locProtocol?e:(e=e.replace(/http:\/\/(cs(\d+)\.vk\.me\/c(\d+)\/)/gi,"https://$1"),e=e.replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/c(\d+)\/(v\d+\/|[a-z0-9\/_:\-]+\.jpg)/gi,"../https@pp.vk.me/c$3/$4"),e=e.replace(/../cs(/d+)/.(userapi/.com|vk\.com|vk\.me|vkontakte\.ru)\/([a-z0-9\/_:\-]+\.jpg)/gi,"../https@pp.vk.me/c$1/$3"),e=e.replace(/../cs(/d+)/.(userapi/.com|vk\.com|vk\.me|vkontakte\.ru)\//gi,"../https@ps.vk.me/c$1/default.htm"),e=e.replace(/http:\/\/video(\d+)\.vkadre\.ru\//gi,"../https@ps.vk.me/v$1/default.htm"))}function y(e,t){return isString(t)&&(t=w(t)),S(e).replaceChild(t,e),t}function b(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}function x(e){return b((e||{}).nextSibling)}function j(e){return b((e||{}).previousSibling,1)}function C(e){return b((e||{}).firstChild)}function k(e){return b((e||{}).lastChild,1)}function S(e){return(e||{}).parentNode}function T(e){for(var t=[],n=e.childNodes,o=0;o<n.length;o++)n[o].tagName&&t.push(n[o]);return t}function B(e,t){var n=S(t);return n&&n.insertBefore(e,t)}function O(e,t){var n=S(t);return n&&n.insertBefore(e,x(t))}function E(e,t){return e?s(t,e):e}function L(e,t,n){return e?"undefined"!=typeof n?(null===n?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,n),n):e.getAttribute("data-"+t):null}function q(e){for(var t=0;null!=(e=j(e));)t++;return t}function D(e,t){do e=S(e);while(e&&!N(e,t));return e}function P(e,t,n){for(var o=null;null===o&&e;)e=-1===n?j(e):x(e),e&&N(e,t)&&(o=e);return o}function N(e,t){if(e=o(e),!e||e==document)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(e){for(var t=(this.parentNode||this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t[n]!==this;);return n>-1};return n.call(e,t)}function A(e){return N(e,":hover")}function M(e,t){var n=o(e);if(t=o(t),!e||!t)return!1;for(;n=n.parentNode;)if(n==t)return!0;return!1}function H(){var e=browser.msie6?o("PageContainer"):document.body,t=document.documentElement;return[e.scrollLeft||t.scrollLeft||window.pageXOffset||0,e.scrollTop||t.scrollTop||window.pageYOffset||0,t.clientWidth||e.clientWidth||0,t.clientHeight||e.clientHeight||0]}function F(e,t){t=t||{};for(var n=t.fromEl||S(e),o=t.positions||["relative","absolute","fixed"];n&&n!=bodyNode;){var r=ce(n,"position");if(inArray(r,o)&&(!t.noOverflow||"hidden"!=ce(n,"overflow")))break;n=S(n)}return n}function R(e,t){e=o(e);for(var n,r,a,i,s=e;s&&s.tagName&&s!==bodyNode&&(n=ce(s,"position"),r=ce(s,"overflow"),a=ce(s,"transform"),!t||!browser.mozilla||"page_wrap"==s.id||s===e||"visible"===r||("static"===n?i&&"relative"!==i:"fixed"===i));)"none"!==a?i=void 0:"static"!==n&&"fixed"!==i&&(i=n),s=S(s);return s}function I(e){var t=arguments.length;if(t>1)for(var n=0;t>n;n++)I(arguments[n]);else if(e=o(e),e&&e.style){var r=e.olddisplay,a="block",i=e.tagName.toLowerCase();e.style.display=r||"","none"===ce(e,"display")&&(a=ee(e,"inline")||ee(e,"_inline")?"inline":ee(e,"_inline_block")?"inline-block":"tr"!==i||browser.msie?"table"!==i||browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=a)}}function z(e){var t=arguments.length;if(t>1)for(var n=0;t>n;n++)z(arguments[n]);else if(e=o(e),e&&e.style){var r=ce(e,"display");e.olddisplay="none"!=r?r:"",e.style.display="none"}}function W(e){return e=o(e),e&&e.style?"none"!=ce(e,"display"):!1}function V(){return window.innerHeight||document.documentElement.clientHeight||bodyNode.clientHeight}function U(e,t,n){e=o(e),n=n||0;var r=$(e)[1],a=Q(e)[1],i=window,s=document.documentElement,c=Math.max(intval(i.innerHeight),intval(s.clientHeight)),l=o("page_header_cont"),d=s.scrollTop||bodyNode.scrollTop||window.scrollY||0,u=vk.staticheader?Math.max(0,Q(l)[1]-d):Q(l)[1];if(t){if(d+u+n>r+a)return r+a-d-u-n;if(r>d+c-n)return r-d-c+n}else{if(d+u+n>r)return r-d-u-n;if(r+a>d+c-n)return r+a-d-c+n}return 0}function X(e,t){return void 0===t&&(t=!W(e)),t?I(e):z(e),t}function K(e){return"undefined"!=typeof e.getBoundingClientRect}function Y(e,t){var n;if(t&&"inline"==ce(e,"display")){var o=e.getClientRects();n=o&&o[0]||e.getBoundingClientRect()}else n=e.getBoundingClientRect();return n}function $(e,t){if(e=o(e),!e)return[0,0];var n,r,a={top:0,left:0},i=e.ownerDocument;return i?(n=i.documentElement,K(e)&&(a=Y(e,!0)),r=i==i.window?i:9===i.nodeType?i.defaultView||i.parentWindow:!1,[a.left+(t?0:r.pageXOffset||n.scrollLeft)-(n.clientLeft||0),a.top+(t?0:r.pageYOffset||n.scrollTop)-(n.clientTop||0)]):[0,0]}function G(e){return null!=e&&e===e.window}function Q(e,t,n){e=o(e);var r,a=[0,0],i=document.documentElement;if(t&&"border-box"===ce(e,"boxSizing")&&(t=!1),e==document)a=[Math.max(i.clientWidth,bodyNode.scrollWidth,i.scrollWidth,bodyNode.offsetWidth,i.offsetWidth),Math.max(i.clientHeight,bodyNode.scrollHeight,i.scrollHeight,bodyNode.offsetHeight,i.offsetHeight)];else if(e){var s=function(){a=K(e)&&(r=Y(e,n))&&void 0!==r.width?[r.width,r.height]:[e.offsetWidth,e.offsetHeight],t&&each(a,function(t,n){var o=t?["Top","Bottom"]:["Left","Right"];each(o,function(){a[t]-=parseFloat(ce(e,"padding"+this))||0,a[t]-=parseFloat(ce(e,"border"+this+"Width"))||0})})};if(W(e))s();else{var c={position:"absolute",visibility:"hidden",display:"block"},l={},d=!1;e.style.cssText.indexOf("!important")>-1&&(d=e.style.cssText),each(c,function(t,n){l[t]=e.style[t],e.style[t]=n}),s(),each(c,function(t,n){e.style[t]=l[t]}),d&&(e.style.cssText=d)}}return a}function J(e){return Q(e)[0]}function Z(e){return Q(e)[1]}function ee(e,t){return e=o(e),e&&1===e.nodeType&&(" "+e.className+" ").replace(window.whitespaceRegex," ").indexOf(" "+t+" ")>=0?!0:!1}function te(e,t){(e=o(e))&&!ee(e,t)&&(e.className=(e.className?e.className+" ":"")+t)}function ne(e,t){return setTimeout(te.pbind(e,t),0)}function oe(e,t){(e=o(e))&&(e.className=trim((e.className||"").replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ")))}function re(e,t){return setTimeout(oe.pbind(e,t),0)}function ae(e,t,n){return void 0===n&&(n=!ee(e,t)),(n?te:oe)(e,t),n}function ie(e,t,n){return void 0===n&&(n=!ee(e,t)),(n?ne:re)(e,t),n}function se(e,t,n){oe(e,t),te(e,n)}function ce(e,t,n){if(e=o(e),isArray(t)){var r={};return each(t,function(t,n){r[n]=ce(e,n)}),r}if(!e)return"";if(void 0===n&&(n=!0),!n&&"opacity"==t&&browser.msie){var a=e.style.filter;return a?a.indexOf("opacity=")>=0?parseFloat(a.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!n&&e.style&&(e.style[t]||"height"==t))return e.style[t];var i,s=document.defaultView||window;if(s.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var c=s.getComputedStyle(e,null);c&&(i=c.getPropertyValue(t))}else if(e.currentStyle){if("opacity"==t&&browser.msie){var a=e.currentStyle.filter;return a&&a.indexOf("opacity=")>=0?parseFloat(a.match(/opacity=([^)]*)/)[1])/100+"":"1"}var l=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()});i=e.currentStyle[t]||e.currentStyle[l],"auto"==i&&(i=0),i=(i+"").split(" "),each(i,function(t,n){if(!/^\d+(px)?$/i.test(n)&&/^\d/.test(n)){var o=e.style,r=o.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,o.left=n||0,i[t]=o.pixelLeft+"px",o.left=r,e.runtimeStyle.left=a}}),i=i.join(" ")}if(n&&("width"==t||"height"==t)){var d=Q(e,!0)[{width:0,height:1}[t]];i=(intval(i)?Math.max(floatval(i),d):d)+"px"}return i}function le(e,t,n){if(e=o(e)){if("object"==("undefined"==typeof t?"undefined":ke(t)))return each(t,function(t,n){le(e,t,n)});if("opacity"==t)browser.msie&&((n+"").length?1!==n?e.style.filter="alpha(opacity="+100*n+")":e.style.filter="":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity!==n&&(e.style.opacity=n);else try{var r="number"==typeof n;r&&/height|width/i.test(t)&&(n=Math.abs(n)),n=r&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?n+"px":n,e.style[t]!==n&&(e.style[t]=n)}catch(a){debugLog("setStyle error: ",[t,n],a)}}}function de(e,t,n){setTimeout(le.pbind(e,t,n),0)}function ue(e,t,n){var r=fe(e,"pseudo-id");r||(fe(e,"pseudo-id",r=irand(1e8,999999999)),te(e,"_pseudo_"+r));var a=t+"-style-"+r,i=o(a),s="._pseudo_"+r+":"+t+"{";i||(i=headNode.appendChild(p("style",{id:a,type:"text/css"}))),each(n,function(e,t){s+=e+": "+t+" !important;"}),s+="}",i.sheet?(i.sheet.cssRules.length&&i.sheet.deleteRule(0),i.sheet.insertRule(s,0)):i.styleSheet&&(i.styleSheet.cssText=s)}function fe(e,t,n){if(!e)return!1;var o,r=e[vkExpand];return r||(r=e[vkExpand]=++vkUUID),n!==o&&(vkCache[r]||(vkCache[r]={},__debugMode&&(vkCache[r].__elem=e)),vkCache[r][t]=n),t?vkCache[r]&&vkCache[r][t]:r}function he(e,t,n){return e=o(e),"undefined"==typeof n?e.getAttribute(t):(e.setAttribute(t,n),n)}function pe(e){for(var t=0,n=arguments.length;n>t;++t){var o=arguments[t];if(void 0!==e[o])try{delete e[o]}catch(r){try{e.removeAttribute(o)}catch(r){}}}}function _e(e,t){var n=e?e[vkExpand]:!1;if(n)if(t){if(vkCache[n]){delete vkCache[n][t],t="";var o=0;for(t in vkCache[n])if("__elem"!==t){o++;break}o||_e(e)}}else removeEvent(e),pe(e,vkExpand),delete vkCache[n]}function we(){for(var e=arguments,t=0;t<e.length;++t){var n=o(e[t]);n&&(_e(n),pe(n,"btnevents"))}}function ge(e,t,n){if(e=o(e),e&&!e.titleSet){if(t||(t=e),t.scrollWidth>t.clientWidth)e.setAttribute("title",n||e.innerText||e.textContent);else{var r=a("b",e);r&&r.scrollWidth>r.clientWidth?e.setAttribute("title",n||e.innerText||e.textContent):e.removeAttribute("title")}e.titleSet=1}}function ve(){var e=o("zoom_test_1")||document.body.appendChild(p("div",{id:"zoom_test_1"},{left:"10%",position:"absolute",visibility:"hidden"})),t=o("zoom_test_2")||document.body.appendChild(p("div",{id:"zoom_test_2"},{left:e.offsetLeft+"px",position:"absolute",visibility:"hidden"}));return t.offsetLeft/e.offsetLeft}function me(e,t,n){return(e=o(e))?(void 0!==t&&(e.setValue?(e.setValue(t),!n&&e.phonblur&&e.phonblur()):"INPUT"==e.tagName||"TEXTAREA"==e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,!n&&triggerEvent(e,"valueChanged")),e.getValue?e.getValue():("INPUT"==e.tagName||"TEXTAREA"==e.tagName?e.value:e.innerHTML)||""):void 0}function ye(e,t,n){e=o(e);try{if(e.focus(),(void 0===t||t===!1)&&(t=e.value.length),(void 0===n||n===!1)&&(n=t),e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r.select()}else e.setSelectionRange&&e.setSelectionRange(t,n)}catch(a){}}function be(e,t,n){for(e=o(e),n=n||999;e&&!t(e);){if(n--,0==n)return!1;try{if(e=S(e),e==document)break}catch(r){e=!1}}return e}function xe(e){return Se?void 0:window.document.title=replaceEntities(e)}function je(e){Se=e,e&&window.cur&&window.cur.destroy.push(function(){je(!1)})}n.r(t),n.d(t,"ge",function(){return o}),n.d(t,"geByTag",function(){return r}),n.d(t,"geByTag1",function(){return a}),n.d(t,"geByClass",function(){return i}),n.d(t,"geByClass1",function(){return s}),n.d(t,"gpeByClass",function(){return c}),n.d(t,"domQuery",function(){return l}),n.d(t,"domQuery1",function(){return d}),n.d(t,"domClosest",function(){return u}),n.d(t,"domClosestByTag",function(){return f}),n.d(t,"gpeByTag",function(){return h}),n.d(t,"ce",function(){return p}),n.d(t,"re",function(){return _}),n.d(t,"se",function(){return w}),n.d(t,"sech",function(){return g}),n.d(t,"rs",function(){return v}),n.d(t,"psr",function(){return m}),n.d(t,"domReplaceEl",function(){return y}),n.d(t,"domEL",function(){return b}),n.d(t,"domNS",function(){return x}),n.d(t,"domPS",function(){return j}),n.d(t,"domFC",function(){return C}),n.d(t,"domLC",function(){return k}),n.d(t,"domPN",function(){return S}),n.d(t,"domChildren",function(){return T}),n.d(t,"domInsertBefore",function(){return B}),n.d(t,"domInsertAfter",function(){return O}),n.d(t,"domByClass",function(){return E}),n.d(t,"domData",function(){return L}),n.d(t,"domChildIndex",function(){return q}),n.d(t,"domCA",function(){return D}),n.d(t,"domClosestSibling",function(){return P}),n.d(t,"matchesSelector",function(){return N}),n.d(t,"isHover",function(){return A}),n.d(t,"isAncestor",function(){return M}),n.d(t,"getScroll",function(){return H}),n.d(t,"domClosestPositioned",function(){return F}),n.d(t,"domClosestOverflowHidden",function(){return R}),n.d(t,"show",function(){return I}),n.d(t,"hide",function(){return z}),n.d(t,"isVisible",function(){return W}),n.d(t,"clientHeight",function(){return V}),n.d(t,"getClientRectOffsetY",function(){return U}),n.d(t,"toggle",function(){return X}),n.d(t,"boundingRectEnabled",function(){return K}),n.d(t,"getXYRect",function(){return Y}),n.d(t,"getXY",function(){return $}),n.d(t,"isWindow",function(){return G}),n.d(t,"getSize",function(){return Q}),n.d(t,"getW",function(){return J}),n.d(t,"getH",function(){return Z}),n.d(t,"hasClass",function(){return ee}),n.d(t,"addClass",function(){return te}),n.d(t,"addClassDelayed",function(){return ne}),n.d(t,"removeClass",function(){return oe}),n.d(t,"removeClassDelayed",function(){return re}),n.d(t,"toggleClass",function(){return ae}),n.d(t,"toggleClassDelayed",function(){return ie}),n.d(t,"replaceClass",function(){return se}),n.d(t,"getStyle",function(){return ce}),n.d(t,"setStyle",function(){return le}),n.d(t,"setStyleDelayed",function(){return de}),n.d(t,"setPseudoStyle",function(){return ue}),n.d(t,"data",function(){return fe}),n.d(t,"attr",function(){return he}),n.d(t,"removeAttr",function(){return pe}),n.d(t,"removeData",function(){return _e}),n.d(t,"cleanElems",function(){return we}),n.d(t,"setTitle",function(){return ge}),n.d(t,"getZoom",function(){return ve}),n.d(t,"val",function(){return me}),n.d(t,"elfocus",function(){return ye}),n.d(t,"traverseParent",function(){return be}),n.d(t,"setDocumentTitle",function(){return xe}),n.d(t,"lockDocumentTitle",function(){return je});var Ce=n(193),ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.cf=function(e){var t=e.createDocumentFragment(),n=e.createElement("div"),o=e.createRange&&e.createRange();return t.appendChild(n),o&&o.selectNodeContents(n),o&&o.createContextualFragment?function(t){return t?o.createContextualFragment(t):e.createDocumentFragment()}:function(t){if(!t)return e.createDocumentFragment();n.innerHTML=t;for(var o=e.createDocumentFragment();n.firstChild;)o.appendChild(n.firstChild);return o}}(document),window.whitespaceRegex=/[\t\r\n\f]/g,window.cssTransformProp=function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var n in t)if(void 0!==e.style[t[n]+"Transform"])return t[n]+"Transform"}return"transform"}(),window.vkExpand=window.vkExpand||"VK"+Object(Ce.vkNow)(),window.vkUUID=window.vkUUID||0,window.vkCache=window.vkCache||{};var Se=!1;window.ge=o,window.geByTag=r,window.geByTag1=a,window.geByClass=i,window.geByClass1=s,window.gpeByClass=c,window.domQuery=l,window.domQuery1=d,window.domClosest=u,window.ce=p,window.re=_,window.se=w,window.sech=g,window.rs=v,window.psr=m,window.domReplaceEl=y,window.domEL=b,window.domNS=x,window.domPS=j,window.domFC=C,window.domLC=k,window.domPN=S,window.domChildren=T,window.domInsertBefore=B,window.domInsertAfter=O,window.domByClass=E,window.domData=L,window.domChildIndex=q,window.domCA=D,window.domClosestSibling=P,window.matchesSelector=N,window.isHover=A,window.isAncestor=M,window.getScroll=H,window.domClosestPositioned=F,window.domClosestOverflowHidden=R,window.show=I,window.hide=z,window.isVisible=W,window.clientHeight=V,window.getClientRectOffsetY=U,window.toggle=X,window.boundingRectEnabled=K,window.getXYRect=Y,window.getXY=$,window.isWindow=G,window.getSize=Q,window.hasClass=ee,window.addClass=te,window.addClassDelayed=ne,window.removeClass=oe,window.removeClassDelayed=re,window.toggleClass=ae,window.toggleClassDelayed=ie,window.replaceClass=se,window.getStyle=ce,window.setStyle=le,window.setStyleDelayed=de,window.setPseudoStyle=ue,window.data=fe,window.attr=he,window.removeAttr=pe,window.removeData=_e,window.cleanElems=we,window.setTitle=ge,window.getZoom=ve,window.val=me,window.elfocus=ye,window.traverseParent=be,window.getH=Z,window.getW=J,window.domClosestByTag=f,window.setDocumentTitle=xe,window.lockDocumentTitle=je},474:function(e,t,n){"use strict";function o(){return window.devicePixelRatio>=2}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.call(e[n],n,e[n])===!1)break;return e}function a(e,t,n){var a=[];if(r(e,function(e,t){n&&-1==["w","z","y","x","m","s"].indexOf(e)||a.push(t)}),!a.length)return[!1];a.sort(function(e,t){return e[1]-t[1]}),t*=o()?2:1;var i=a[a.length-1];return r(a,function(e,n){return n[1]>=t?(i=n,!1):void 0}),i}function i(e,t){if(l[e]===!0)return t&&t(),!0;if(isArray(l[e]))return l[e].push(t),!1;l[e]=[t];var n=new Image;return n.onload=function(){var t=l[e];l[e]=!0,r(t,function(e,t){t&&t()})},n.src=e,!1}function s(e,t){if(isObject(t)&&!isEmpty(t)){var n="https:../https@vk-callback.go.mail.ru/longread_pxl@action="+e;r(t,function(e,t){n+="&"+e+"="+t});var o=new Image;o.src=n}}n.r(t),n.d(t,"ParagraphType",function(){return c}),n.d(t,"getAppropriateImage",function(){return a}),n.d(t,"preloadImage",function(){return i}),n.d(t,"mailruStatsPixel",function(){return s});var c={Text:1,Header1:2,Header2:3,Header3:4,Code:5,NumericList:6,BulletList:7,Quote:8,Quote2:9,ObjectAudioPlaylist:100,ObjectPhoto:101,ObjectVideo:102,ObjectGIF:103,ObjectAudio:105},l={}},501:function(e,t,n){"use strict";function o(e,t){function n(e){c.readyState&&"loaded"!=c.readyState&&"complete"!=c.readyState||(r(),i&&i())}function o(e){r(),s&&s()}function r(){clearTimeout(l),c.removeEventListener("load",n),c.removeEventListener("readystatechange",n),c.removeEventListener("error",o)}var a=t.timeout,i=t.onLoad,s=t.onError,c=document.createElement("script");c.addEventListener("load",n),c.addEventListener("readystatechange",n),c.addEventListener("error",o),c.src=e,document.head.appendChild(c);var l=void 0;return a&&(l=setTimeout(o,a)),{destroy:function(){r()}}}n.r(t),n.d(t,"loadScript",function(){return o}),window.loadScript=o},631:function(e,t,n){"use strict";n.r(t),n(449),n(501),n(193),n(103);try{stManager.done(jsc("web/article_layer.js"))}catch(o){}},699:function(e,t,n){e.exports=n(631)},91:function(e,t,n){"use strict";function o(e,t){var n=domQuery1("[data-sizes]",e),o=JSON.parse(domData(n,"sizes")),i=(domData(n,"media-links")||"").split(",");if(!(o.length<=1||domData(e,"carousel-inited")))if(domData(e,"carousel-inited",1),t.mobile)r(o,e);else{var s=a(o,e,t,i);data(e,"changePhotoFunction",s)}}function r(e,t){var n=geByClass1("article_photo_carousel__controls",t),o=geByClass1("article_photo_carousel__counter",t),r=domData(o,"counter-lang")||getLang("global_article_carousel_counter"),a=getSize(geByClass1("article_figure_content",t)),c=domPN(geByTag1("img",t)),l=0,d=void 0,u=0,f=void 0,h=void 0,p=0,_=!1,w=!1,g=!1;n.addEventListener("touchstart",function(e){h=e.touches[0].pageX,f=e.touches[0].pageY});var v=!1,m=void 0;n.addEventListener("touchmove",function(n){if(!w&&(Math.abs(n.touches[0].pageY-f)>5||_))return void(_=!0);if(!g&&(u=n.touches[0].pageX-h,!(Math.abs(u)<10)||v)){w||window.addEventListener("touchmove",m=function(e){return cancelEvent(e)},{passive:!1}),w=!0,v=!0;var o=Math.min(e.length-1,Math.max(0,l+(0>u?1:-1))),r=0===o&&0===l,y=o===e.length-1&&l===e.length-1;if(p!==o)if(p=o,re(d),r||y)d=!1;else{var b=Object(i.getAppropriateImage)(e[o],a[0],!0),x=s(b,1),j=x[0];d=ce("div",{innerHTML:'<img src="'+j+'">'}),setStyle(domFC(d),{"max-width":a[0],"max-height":a[1],width:"initial"}),setStyle(d,{transform:"scale(1.05)",opacity:0}),domInsertBefore(d,domPN(geByTag1("img",t)))}var C=Math.abs(u),k=0;k=r||y?.2*u:u,setStyle(c,{transform:"translateX("+k+"px)"}),d&&setStyle(d,{transform:"scale("+Math.max(1,1.05-5e-4*C)+")",opacity:Math.min(1,.01*C)})}}),n.addEventListener("touchend",function(){v=!1,_=!1,g=!0,w=!1,m&&window.removeEventListener("touchmove",m);var t=0>u,n=Math.abs(u)<50||!d;if(!n){l=p;for(var f=l;f<Math.min(l+3,e.length);f++){var h=Object(i.getAppropriateImage)(e[f],a[0],!0),y=s(h,1),b=y[0];Object(i.preloadImage)(b)}}o.innerHTML=r.replace("{counter}",l+1).replace("{total}",e.length),addClass(c,"with_transition"),addClass(d,"with_transition"),setTimeout(function(){n?(setStyle(c,{transform:"translateX(0px)",opacity:1}),setStyle(d,{transform:"scale(1.05)",opacity:0})):(setStyle(c,{transform:"translateX("+(t?"-500px":"500px")+")"}),setStyle(d,{transform:"scale(1)",opacity:1}))}),setTimeout(function(){g=!1,p=!1,removeClass(c,"with_transition"),removeClass(d,"with_transition"),n?re(d):(re(c),c=d),d=!1},150)})}function a(e,t,n,o){function r(r){c+=r,c=Math.min(e.length-1,Math.max(0,c));var a=Object(i.getAppropriateImage)(e[c],f[0],!0),l=s(a,1),w=l[0],g="";if(n.moderDeletePhoto){var v=o[c];g='<a href="'+v+'" target="_blank" class="flat_button article_photo_moder_open">Открыть</a>'}var m=0>r?"fading_in_left":"fading_in_right",y=se('<div class="'+m+'"><img src="'+w+'">'+g+"</div>");setStyle(domFC(y),{"max-width":f[0],"max-height":Math.ceil(f[1])+1,
width:"initial"}),domInsertAfter(y,domPN(geByTag1("img",t)));var b=h;setTimeout(function(){removeClass(y,"fading_in_left"),removeClass(y,"fading_in_right"),addClass(b,"fading_out")}),setTimeout(function(){re(b)},150);for(var x=c;x<Math.min(c+3,e.length);x++){var j=Object(i.getAppropriateImage)(e[x],f[0],!0),C=s(j,1),k=C[0];Object(i.preloadImage)(k)}h=y,d.innerHTML=u.replace("{counter}",c+1).replace("{total}",e.length),toggle(p,c>0),toggle(_,c<e.length-1),domData(t,"photo-carousel-index",c)}function a(e){clearTimeout(w),toggleClass(l,"article_photo_carousel__mouse_idle",e)}var c=0,l=geByClass1("article_photo_carousel__controls",t),d=geByClass1("article_photo_carousel__counter",t),u=domData(d,"counter-lang")||getLang("global_article_carousel_counter"),f=getSize(geByClass1("article_figure_content",t)),h=domPN(geByTag1("img",t)),p=geByClass1("article_photo_carousel__left",t),_=geByClass1("article_photo_carousel__right",t),w=void 0,g=browser.msie&&intval(browser.version)<=11;return _.addEventListener("click",function(e){return r(1),g||t.dispatchEvent(new Event("mousemove")),cancelEvent(e)}),p.addEventListener("click",function(e){return r(-1),g||t.dispatchEvent(new Event("mousemove")),cancelEvent(e)}),t.addEventListener("mousemove",function(){a(!1),addClass(l,"article_photo_carousel__mouse_over"),clearTimeout(w),w=setTimeout(function(){a(!0)},1e3)}),t.addEventListener("mouseleave",function(){clearTimeout(w),removeClass(l,"article_photo_carousel__mouse_over"),removeClass(l,"article_photo_carousel__mouse_idle")}),r}n.r(t),n.d(t,"initPhotoCarousel",function(){return o});var i=n(474),s=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(c){r=!0,a=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}});